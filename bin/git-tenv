#!/bin/sh

# git-tenv
#
# Copyright (c) 2012 - 2014, Andrew Keller
#
# Runs the given command at the top level of the superproject repository.

NEXT_LAYER=$(git rev-parse --show-toplevel) || exit $?

while [ $? == 0 ]
do
    cd "$NEXT_LAYER" || exit $?
    NEXT_LAYER=$(cd .. && git rev-parse --show-toplevel 2>/dev/null)
done

"$@"
